<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The Tenants Act Presents Our Web Solution</title>
    <!--
Template 2109 The Card
Reference: http://www.tooplate.com/view/2109-the-card
-->
    <!-- load CSS -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600"
    />
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="slick/slick.css" />
    <link rel="stylesheet" href="slick/slick-theme.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/tooplate-style.css" />
    <!-- Templatemo style -->
  </head>

  <body>
    <!-- Loader -->
    <div id="loader-wrapper">
      <div id="loader"></div>
      <div class="loader-section section-left"></div>
      <div class="loader-section section-right"></div>
    </div>

    <div class="tm-main-container">
      <div class="tm-top-container">
        <!-- Menu -->
        <nav id="tmNav" class="tm-nav">
          <a class="tm-navbar-menu" href="#">Menu</a>
          <ul class="tm-nav-links">
            <li class="tm-nav-item active">
              <a href="#" data-linkid="0" data-align="right" class="tm-nav-link">Intro</a>
            </li>
            <li class="tm-nav-item">
              <a href="#" data-linkid="1" data-align="right" class="tm-nav-link">The Journey</a>
            </li>
            <li class="tm-nav-item">
              <a
                href="#"
                data-linkid="2"
                data-align="middle"
                class="tm-nav-link">The Team</a>
            </li>
            <li class="tm-nav-item">
              <a
                rel="nofollow" href="https://storymaps.arcgis.com/stories/e3afd7be77a74c87a0c1ee78376b1b0b"
                class="tm-nav-link external">StoryMap</a>
            </li>
          </ul>
        </nav>

        <!-- Site header -->
        <header class="tm-site-header-box tm-bg-dark">
          <h1 class="tm-site-title">Mapping Injustice in Peterborough</h1>
          <p class="mb-0 tm-site-subtitle">Web Solution Process Guide: A Tale of Three Web Maps </p>
        </header>
      </div>
      <!-- tm-top-container -->

      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12">
            <!-- Site content -->
            <div class="tm-content">
              <!-- Section 0 Introduction -->
              <section class="tm-section tm-section-0">
                <h2 class="tm-section-title mb-3 font-weight-bold">
                  Introduction
                </h2>
                <div class="tm-textbox tm-bg-dark">
                  <p> The Tenants’ Act team was formed for our upcoming collaborative project focusing on environmental injustice in Peterborough County, which will begin in May 2022. As we were so excited about getting to delve deeper into this subject matter, we decided to look at a similar topic for our GEOM99 project. We wanted to keep our focus on the relationships between industrial zones and community spaces-- in particular, those that are generally occupied by low-income households. This potential correlation is something we will get to explore more thoroughly in the coming weeks as part of our Collaborative Project. </p>
                  <h2 class="tm-text-blue mb-4">Our Ideal</h2>
                  <p>
                    Peterborough residents and organizations can visit a website that displays three different ways to map areas with a high risk of environmental harm. Each embedded map shows the main areas of harm such as the old GE building, and old industrial buildings with lasting effects on the land.
                  </p>
                  <h2 class="tm-text-blue mb-4">Our Reality</h2>
                  <p>
                    There is no easy to digest web map that shows residents of Peterborough the reality of their proximity to neighbourhood pollutants.
                  </p>
                  <h2 class="tm-text-blue mb-4">Our Consequences</h2>
                  <p>
                    Residents and policy makers do not know the extent of local pollution and potential health consequences. 
                  </p>
                  <h2 class="tm-text-blue mb-4">Our Proposal</h2>
                  <p class="mb-0">
                    We will explore and develop a web product using either AGOL Experience Builder, StoryMaps, or Dashboard and will display it in a map embedded on a webpage. The map will display areas with high levels of pollution.
                  </p>
                </div>
                <a href="#" id="tm_about_link" data-linkid="1" class="tm-link">Read More</a>
              </section>

              <!-- Section 1 The Journey -->
              <section class="tm-section tm-section-1">
                <h2 class="tm-section-title mb-3 font-weight-bold">The Journey</h2>
                <div class="tm-textbox tm-bg-dark">
                  <h2 class="tm-text-blue mb-4">ArcGIS Online Dashboards</h2>
                  <p class="mb-4">Using feature layers found on ArcGIS Online a web map was created to show community housing, greenspace and industrial areas in Peterborough. Layer and Display names were then changed to be more appropriate. Clustering was also enabled in the Community Housing Layer to group features together when zoomed out.</p>
                  <img src="img/ds_webmap.jpg" alt="Web Map layers name change" class="ts_image" />
                  <p>On the newly created Peterborough Industrial area and Community Housing web map item page on AGOL a Dashboard Web app was chosen to create a new dashboard. In the layout tab map legend and rich text body elements were selected to add into the dashboard and a Dark Layout Theme was chosen. Initially the map legend option within the map settings was chosen which enabled a legend button on the map, however it made more sense to have a permanent legend which didn't obscure the map.</p>
                  <img src="img/ds_layout1.jpg" alt="Dashboard Layout items" class="ts_image" />
                  <p>Within the map settings layer visibility, basemap switcher and Pop-ups were enabled. The layer visibility and basemap switcher options added buttons that provided the option to toggle different layers on/off and the switching of basemap types. The pop-up setting enabled the ability to click on features and have a table with the features attributes pop up.</p>
                  <img src="img/ds_mapsettings.JPG" alt="Dashboard Map Settings" class="ts_image2" />
                  <p>A list body element was used to create a list of Community Housing. The list was then sorted by the area field and the flash, show pop up and zoom options were enabled. When a item is selected in the list, a pop up table of the community housing features attribute table will appear and the feature will flash and zoom to its location on the map. Default extent and bookmarks was also enabled to allow the user to click a button to return to the original map extent.</p>
                  <img src="img/ds_listsort.JPG" alt="Dashboard List" class="ts_image">
                  <p>Below is a screenshot of the final product. Click on the image to go to a working version of the dashboard.</p>
                  <p><a href="https://www.arcgis.com/apps/dashboards/16d20e7b0d084abbbc6ca6e2ac2d2b1f">
                  <img src="img/ds_final.JPG" alt="Dashboard Final Product" class="kc-image" /></a></p>
                  <p>Out of the 3 options explored the Dashboard proved the most limited in it's ability to effectively tell the sort of detailed story that we were aiming for. It would be better suited to communicate information in a quick and simple manner. We also discovered that without heavy editing in the web map the dashboard was limited ability display information in a meaningful way. The other element items, such as the pie chart, indicator, gauge, and serial chart items, they were deemed not appropriate as we lacked the quantitative data necessary for these to be of use. </p>
                  
                  <h2 class="tm-text-blue mb-4">ArcGIS Online Experience Builder</h2>
                  <p class="mb-4"> A web map was first created to form the main section of the Experience Builder design. This map included layers showing some industrial areas in the city, as well as a community housing layer and greenspace. </p>
                  <img src="img/eb_webmap.jpg" alt="Experience Builder Web Map" class="kc-image" />
                  <p> The layout was decided after playing with the available widgets offered by Experience Builder. Initially, the List widget was being used to talk about relevant locations in the area, but ultimately the Bookmarks widget was more useful, as it could act like a tour around the relevant locations. </p>
                  <img src="img/eb_bookmarks.jpg" alt="Experience Builder Bookmarks" class="kc-image" />
                  <p> The Feature Info widget was used to show attributes of the community housing layer when clicked, and the map pop-up on click was removed. The first Image below is when what the empty box looks like (left) versus when an item is selected on the map (right). </p>
                  <img src="img/eb_FI.jpg" alt="Experience Builder Feature Info" class="kc-image" />
                  <p> Options to toggle on the legend and map layers were added using widgets in the header, as well as a search function, measurement tool, and a find location tool. </p>
                  <img src="img/eb_header.jpg" alt="Experience Builder layout header" class="kc-image" />
                  <p> The last step of the layout was to determine how it changes when resized. Experience Builder offers many options for screen size, which can be redesigned for each major size group (like small, medium, large). For different size ratios within these broad categories, any layout adjustment made would apply to all of them, so some of the smallest size option have odd looking layouts still. To compensate for text overlapping among different sizes (image below), the subheading was hidden for medium screens (left), and both the title and the subheading were hidden from small screens (right). </p>
                  <img src="img/eb_notlarge.jpg" alt="Experience Builder small and medium sized screen layouts" class="kc-image" />
                  <p> The best version of the layout is the large screen layout (below). </p>
                  <img src="img/eb_large.jpg" alt="Experience Builder large screen layout" class="kc-image" />
                  <p> While Experience Builder provides useful options, ultimately with the story we want to tell with the data, something that offers more of a text-based tour through the data would be more useful. The Bookmarks widget provides some capability for this, but the StoryMap service is undoubtedly a better strategy for this type of project. </p>
                  <style>.embed-container {position: relative; padding-bottom: 80%; height: 0; max-width: 100%;} .embed-container iframe, .embed-container object, .embed-container iframe{position: absolute; top: 0; left: 0; width: 100%; height: 100%;} small{position: absolute; z-index: 40; bottom: 0; margin-bottom: -15px;}</style><div class="embed-container"><iframe width="500" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" title="Peterborough Industrial Areas vs the Community" src="https://experience.arcgis.com/experience/679d5d7971df4be89a6536ee43134ccd/"></iframe></div>
                  <p></p>  <!-- I'm sorry for this line, i'm lazy lol  ~kc -->
                  <h2 class="tm-text-blue mb-4">ArcGIS StoryMaps</h2>
                  <p class="mb-4"> Prior to creating a web map, a new story was launched in the ArcGIS StoryMap application in order to build a structural skeleton before populating it with content. Using the design menu, a full cover style was selected as well as the Summit theme.</p>
                  <p> Theme Selection: </p>
                  <img src="img/01DesignCoverTheme.jpg" alt="StoryMaps Cover Theme" class="at_image" />
                  <p> After the design style was determined, imagery of Peterborough was imported for use as the cover photo. Initially we considered linking to an image, however within StoryMaps, the cover photo must be uploaded and url links only work in other sections of the story. It's an oddly specific quirk, but not too arduous to work around. One of the highlights of StoryMaps is the ease of working with the story layout options and the fact that these options are mostly intuitive. The UX is mostly a treat to use. When inserting the Peterborough cover photo we could immediately see how it would look on different displays in real time. </p>
                  <p> Cover photo display options: </p>
                  <img src="img/02CoverPhotoDisplay.jpg" alt="StoryMaps Cover Photo Display" class="at_image" />
                  <p> Final Cover Photo- 'Full' Layout </p>
                  <img src="img/05CoverPhoto.jpg" alt="StoryMaps Cover Photo" class="at_image" />
                  <p> Another functionality that takes guesswork out of image is the way in which StoryMaps only allows the user to select sizes that won’t distort the image i.e. you can only select the large option if your image is at least 1920 px wide. At this point, a Peterborough web map was created back in ArcGIS online using layers acquired in AGOL including greenspace, industrial areas, community housing points, roads, rail and local hydrology. At this stage of data we simply wanted to experiment with industrial / rail proximity to affordable housing. Symbology was developed and a color ramp of Chamois selected for the Industrial layer. </p>
                  <img src="img/03WebMapSymbology.jpg" alt="StoryMaps Web Map Symbology" class="at_image" />
                  <p> We learned that while you can adjust the map appearance within StoryMaps- any changes you make will only affect the map in that particular story - which has a use case, but in the end we decided to do all of our map styling within the web map item itself in order to maintain consistency if it is imported into another story. After putting together the web map, we returned to StoryMaps to flesh out the layout and import additional visuals. An unexpected pitfall of StoryMaps is that its simplicity means you can end up overcomplicating the process for yourself and it's easy to accidentally hit the plus sign option expecting an edit menu to pop up when it's just a place to insert more content. </p>
                  <img src="img/04ContentInsertionPoint.jpg" alt="StoryMaps Web Map Symbology" class="at_image" />
                  <p> Through the exploration process we realized that when you change the symbology of your map back in map viewer, it doesn't update the map in the story automatically- you have to select “publish” in order to see your most recent visual treatment. Thankfully it retains the original zoom level from the previous iteration- a definite pro if you spent time honing the exact extent you want to show in the story. An additional challenge is that occasionally the web map stalls a few seconds and doesn't immediately load. This can be remedied by reducing the number of layers, using an express map to display the data or refreshing the page. </p>
                  <p> Ultimately we have selected StoryMaps as our preferred solution because of its simplicity, ease of use and relative expediency for what it delivers. Not only does it play well with other ArcGIS web functionalities, it creates an aesthetically pleasing end product. We set out to create a web map that was digestible for the public and policy makers on proximity to neighbourhood pollution. Essentially StoryMaps creates a website type container to display our content without the need to wrestle with backend layout code. </p>
                  <p> With the ability to seamlessly incorporate an interactive scrolling map- the user can be directed to the geographical areas we want to highlight in sequence using Sidecar. The scrolling effect adds a dynamic quality to the user experience and helps the flow of our story. </p>
                  <p> Start with full map extent: </p>
                  <img src="img/06ProximityMaps.jpg" alt="StoryMaps Web Map Full Extent" class="at_image" />
                  <p> Scroll to closer look: </p>
                  <img src="img/07ZoomedIn.jpg" alt="StoryMaps Web Map Zoomed" class="at_image" />
                  <p> Sidecar functionality: </p>
                  <img src="img/08InteractiveSidecar.jpg" alt="StoryMaps Web Map Sidecar One" class="at_image" />
                  <p> Scroll to another viewing area via Sidecar: </p>
                  <img src="img/09InteractiveSidecar2.jpg" alt="StoryMaps Web Map Sidecar Two" class="at_image" />

                  <a
                    href="#"
                    id="tm_work_link"
                    data-linkid="2"
                    class="tm-link m-0"
                    >Next</a
                  >
                </div>
              </section>

              <!-- Section 2 Work (Gallery) -->
              <section class="tm-section tm-section-2 mx-auto">
                <div class="grid tm-gallery">
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/01.jpg" alt="Image 1" />
                    <figcaption>
                      <h2>
                        Thoughtful
                        <span>Goliath</span>
                      </h2>
                      <p>dog</p>
                      <a href="img/01.jpg">View more</a>
                    </figcaption>
                  </figure>
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/at_profile3.jpeg" alt="Amanda" />
                    <figcaption>
                      <h2>
                        Amanda
                        <span>Terfloth</span>
                      </h2>
                      <p>GIS Developer and Cartographic Lead</p>
                      <a href="img/at_profile3.jpeg">View more</a>
                    </figcaption>
                  </figure>
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/tim.jpg" alt="Tim" />
                    <figcaption>
                      <h2>
                        Timothy
                        <span>Shin</span>
                      </h2>
                      <p>Spatial Analyst Lead</p>
                      <a href="img/tim.jpg">View more</a>
                    </figcaption>
                  </figure>
                  <figure class="effect-goliath tm-gallery-item">
                    <img src="img/kc.jpg" alt="Kacy" />
                    <figcaption>
                      <h2>
                        Kacy
                        <span>Hyndman</span>
                      </h2>
                      <p>Database Lead</p>
                      <a href="img/kc.jpg">View more</a>
                    </figcaption>
                  </figure>
                </div>
              </section>

            </div>
          </div>
        </div>
      </div>

      <div class="tm-bottom-container">
        <!-- Barcode -->
        <div class="tm-barcode-box">
          <img src="img/logo_orange.jpg" alt="The Tenants' Act logo" />
        </div>

        <!-- Footer -->
        <footer>
          || Copyright &copy; 2022 The Tenants' Act || 
                  
        	Design: <a rel="nofollow" href="https://fb.com/tooplate">Tooplate</a> || 
        
        </footer>
      </div>
    </div>

    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/background.cycle.js"></script>
    <script src="slick/slick.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script>
      let slickInitDone = false;
      let previousImageId = 0,
        currentImageId = 0;
      let pageAlign = "right";
      let bgCycle;
      let links;
      let eachNavLink;

      window.onload = function() {
        $("body").addClass("loaded");
      };

      function navLinkClick(e) {
        if ($(e.target).hasClass("external")) {
          return;
        }

        e.preventDefault();

        if ($(e.target).data("align")) {
          pageAlign = $(e.target).data("align");
        }

        // Change bg image
        previousImageId = currentImageId;
        currentImageId = $(e.target).data("linkid");
        bgCycle.cycleToNextImage(previousImageId, currentImageId);

        // Change menu item highlight
        $(`.tm-nav-item:eq(${previousImageId})`).removeClass("active");
        $(`.tm-nav-item:eq(${currentImageId})`).addClass("active");

        // Change page content
        $(`.tm-section-${previousImageId}`).fadeOut(function(e) {
          $(`.tm-section-${currentImageId}`).fadeIn();
          // Gallery
          if (currentImageId === 2) {
            setupSlider();
          }
        });

        adjustFooter();
      }

      $(document).ready(function() {
        // Set first page
        $(".tm-section").fadeOut(0);
        $(".tm-section-0").fadeIn();

        // Set Background images
        // https://www.jqueryscript.net/slideshow/Simple-jQuery-Background-Image-Slideshow-with-Fade-Transitions-Background-Cycle.html
        bgCycle = $("body").backgroundCycle({
          imageUrls: [
            "img/bg_quakeroats.jpg",
            "img/bg_dam.jpg",
            "img/bg_westclox.jpg"
          ],
          fadeSpeed: 2000,
          duration: -1,
          backgroundSize: SCALING_MODE_COVER
        });

        eachNavLink = $(".tm-nav-link");
        links = $(".tm-nav-links");

        // "Menu" open/close
        if (links.hasClass("open")) {
          links.fadeIn(0);
        } else {
          links.fadeOut(0);
        }

        $("#tm_about_link").on("click", navLinkClick);
        $("#tm_work_link").on("click", navLinkClick);

        // Each menu item click
        eachNavLink.on("click", navLinkClick);

        $(".tm-navbar-menu").click(function(e) {
          if (links.hasClass("open")) {
            links.fadeOut();
          } else {
            links.fadeIn();
          }

          links.toggleClass("open");
        });

        // window resize
        $(window).resize(function() {
          // If current page is Gallery page, set it up
          if (currentImageId === 2) {
            setupSlider();
          }

          // Adjust footer
          adjustFooter();
        });

        adjustFooter();
      }); // DOM is ready

      function adjustFooter() {
        const windowHeight = $(window).height();
        const topHeight = $(".tm-top-container").height();
        const middleHeight = $(".tm-content").height();
        let contentHeight = topHeight + middleHeight;

        if (pageAlign === "left") {
          contentHeight += $(".tm-bottom-container").height();
        }

        if (contentHeight > windowHeight) {
          $(".tm-bottom-container").addClass("tm-static");
        } else {
          $(".tm-bottom-container").removeClass("tm-static");
        }
      }

      function setupSlider() {
        let slidesToShow = 4;
        let slidesToScroll = 2;
        let windowWidth = $(window).width();

        if (windowWidth < 480) {
          slidesToShow = 1;
          slidesToScroll = 1;
        } else if (windowWidth < 768) {
          slidesToShow = 2;
          slidesToScroll = 1;
        } else if (windowWidth < 992) {
          slidesToShow = 3;
          slidesToScroll = 2;
        }

        if (slickInitDone) {
          $(".tm-gallery").slick("unslick");
        }

        slickInitDone = true;

        $(".tm-gallery").slick({
          dots: true,
          customPaging: function(slider, i) {
            var thumb = $(slider.$slides[i]).data();
            return `<a>${i + 1}</a>`;
          },
          infinite: true,
          prevArrow: false,
          nextArrow: false,
          slidesToShow: slidesToShow,
          slidesToScroll: slidesToScroll
        });

        // Open big image when a gallery image is clicked.
        $(".slick-list").magnificPopup({
          delegate: "a",
          type: "image",
          gallery: {
            enabled: true
          }
        });
      }
    </script>
  </body>
</html>
